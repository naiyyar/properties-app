(function(){$(document).bind("ajax:success","form#sign_in_user, form#sign_up_user",function(e,a){var s;return window.data=a,a.success?($("#error_explanation b").html(""),$("#user_password").next().html(""),window.location.reload()):($("#user_email_signup, #signup_user_password").next().html(""),s=$("#signup_user_password"),a.data.message.email?($("#user_email_signup").parent().addClass("has-error"),"is invalid"===a.data.message.email[0]?$("#user_email_signup").next().append("Please enter a valid email address"):"can't be blank"===a.data.message.email[0]?$("#user_email_signup").next().append("can't be blank"):"has already been taken"===a.data.message.email[0]?$("#user_email_signup").next().append("Email has already been taken"):($("#user_email_signup").parent().removeClass("has-error"),$("#user_email_signup").next().html(""))):($("#user_email_signup").parent().removeClass("has-error"),$("#user_email_signup").next().html("")),a.data.message.password?($(s).parent().addClass("has-error"),$(s).next().append(a.data.message.password[0])):($(s).parent().removeClass("has-error"),$(s).next().html("")))}),$(document).bind("ajax:error","form#sign_in_user, form#sign_up_user",function(e,a){var s,r;return r=$("#user_password"),s=$("#user_email"),$("#user_email, #user_password").next().html(""),""===s.val()?s.next().append("can't be blank"):$("#user_email").next().html(""),""===r.val()?r.next().append("can't be blank"):r.next().append("Login failed. Please try again"),$("#error_explanation b").html(""),$("#error_explanation b").hide().show().append(a.responseText),$("#user_email, #user_password").parent().addClass("has-error")})}).call(this);