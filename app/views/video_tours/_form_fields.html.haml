- cat = "#{object.id}-#{category}_#{index}"
%div{id: "tour-form-container-#{cat}"}
  = form_for video_tour, remote: true, html: { class: 'form-horizontal', id: "tour_#{cat}", style: 'margin: 8px 0px;', multipart: true }, authenticity_token: true do |f|
    = f.hidden_field :tourable_id, value: object.id, id: "video_tour_building_id_#{cat}"
    = f.hidden_field :tourable_type, value: object.class.name, id: "video_tour_building_type_#{cat}"
    = f.hidden_field :sort, value: index, id: "video_tour_sort_#{cat}", class: 'video_tour_sort' if video_tour.new_record?
    = f.hidden_field :category, value: category,  id: "video_tour_category_#{cat}"
    
    .row
      - if !video_tour.new_record?
        .col-2.col-lg-1
          %label Sort
          = f.text_field :sort, id: "video_tour_sort_#{cat}", class: 'form-control video_tour_sort'
      
      .col-10.col-lg-2.mb-3
        %label Description
        = f.text_field :description, class: 'form-control', id: "video_tour_description_#{cat}"

      .col-6.col-lg-3.mb-3
        %label Url*
        = f.text_field :url, class: 'form-control validate', id: "video_tour_url_#{cat}", required: true

      .col-6.col-lg-2.mb-3
        %label Placeholder Image
        = f.file_field :image, class: 'form-control', id: "video_tour_image_#{cat}"

      %div.d-block.d-lg-none.d-md-none
        %br
      
      .col-lg-1.col-3
        %label.invisible.d-none.d-md-block AddAdd*
        = f.submit 'Add', class: 'btn btn-success btn-sm'
      
      .col-lg-2.col-6
        .video-preview
          - unless video_tour.image.present?
            %iframe{src: video_tour.new_record? ? '' : video_tour.url, style: 'height: 100%;width: 100%;border: none;', id: "video-preview-#{cat}"}
          - else
            =image_tag video_tour.image.url, style: 'height: 100%;width: 100%;border: none;'

      .col-lg-1.col-3{style: 'height: 80px;'}
        .text-center.vertically-middle{id: "remove-fields-#{cat}"}
          = render 'delete_link', video_tour: video_tour
