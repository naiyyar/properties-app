var sh_slider = $('#sh-slider');
sh_slider.html("<%= j render 'uploads/light_slider', property: @property %>");

var sl_container = $('.sh-slider-container');
if(sl_container.length > 0){
	var thumb_images_length = $('.lSPager.lSGallery').children().length
	var add_class 					= thumb_images_length == 0 ? 'no-thumb' : 'with-thumb'
	var show_gallery 				= sl_container.find('.gallery')

	show_gallery.lightSlider({
		gallery: true,
		item: 1,
		slideMargin: 0,
		loop: true,
		thumbItem: 6,
		galleryMargin: 1,
		addClass: add_class,
		onBeforeSlide: function(el, scene){
			parent_elem 		= el.parent().parent()
			show_count_elem = parent_elem.prev()
			current_elem    = show_count_elem.find('.current')
			current_elem.text(el.getCurrentSlideCount)
		}
	});

	Transparentcity.initFancybox('.sh-slider-container .lightSlider .lslide a');

	sh_slider.css('background', '#fff');
}