#agent-info
	.row
		.col-lg-2.col-xs-4
			=image_tag agent_image(@featured_agent.uploads.first), style: 'width: 100%;height: 100%;'
		.col-lg-10.col-xs-8
			%p.font-bold.font-14=@featured_agent.full_name
			%p.font-14=@featured_agent.broker_firm
			%p.font-14=number_to_phone(@featured_agent.phone, area_code: true)

	=form_tag contact_agent_featured_agent_path(@featured_agent), class: 'form-horizontal agent-contact-form' do
		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-6
				%label
				= text_field_tag 'contact[email]', nil,  class: 'form-control', placeholder: 'Email*', required: true

			.col-xs-12.col-sm-12.col-md-12.col-lg-6
				%label
				= text_field_tag 'contact[phone]', nil, class: 'form-control', placeholder: 'Phone'

		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-12
				%label
				= select_tag 'contact[neighborhoods]', options_for_select(@neighborhoods), class: 'form-control', multiple: true
		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-6
				%label
				= select_tag 'contact[bedrooms]', options_for_select(bedrooms_options), class: 'form-control col-grey cst', prompt: 'Bedrooms*'

			.col-xs-12.col-sm-12.col-md-12.col-lg-6
				%label
				= select_tag 'contact[budget]', options_for_select(budgets_options), class: 'form-control col-grey cst', prompt: 'Budget*'
		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-12
				%label
				= text_area_tag 'contact[message]', message, class: 'form-control', rows: 4, style: 'color: #9d9d9d;'
		%br

		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-12
				%div= submit_tag 'Send Message', class: 'btn btn-blue btn-block font-bold'

		.row
			.col-xs-12.col-sm-12.col-md-12.col-lg-12
				%p.font-14{style: 'padding: 18px 0px;'} Agents typically charge a commission rate equal to 1 months rent or more for their services.

%script{src: 'https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js'}
%link{rel: 'stylesheet', href: 'https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css'}

:javascript
	$('#contact_neighborhoods').multiselect({
		nonSelectedText: 'Neighborhood Interested In*',
		buttonWidth: '100%',
		buttonClass: 'btn-custom-multiselect',
		onChange: function(options, checked){
			var checked_boxes = $('.multiselect-container').find('input[type=checkbox]:checked');
			var elem = $('span.multiselect-selected-text');
			if(checked_boxes.length >= 1){
				elem.addClass('selected');
			}else{
				elem.removeClass('selected');
			}
		}
	});

	$('.agent-contact-form').find('select.cst').on('change', function(){
		//this.className=this.options[this.selectedIndex].className
		var val = $(this).val();
		if(val == ''){

			$(this).addClass('col-grey');
		}else{
			$(this).removeClass('col-grey');
		}
	})

:css
	#agent-info{
		padding: 20px;
	}

	#agent-info img{
		border: 1px solid #ddd;
	}
	
	#agent-info	p{
		padding: 0px;
		margin: 2px 0px;
	}

	.btn-custom-multiselect{
		height: 44px;
		padding: 10px 14px;
		text-align: left;
		background: #fff;
		border: 1px solid #dfdfdf;
		-webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
		-o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
		transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
		box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
	}

	span.multiselect-selected-text{
		color: #9d9d9d;
	}
	span.multiselect-selected-text.selected{
		color: #000;
	}

	select.col-grey {
		color: #9d9d9d !important;
	}
	
	option:not(:first-of-type) {
		color: #000 !important;
	}

	.btn-custom-multiselect .caret{
		position: absolute;
		right: 4px;
		top: 21px;
	}

	.multiselect-container.dropdown-menu{
		width: 100%;
	}