$('#sh-slider').html("<%= j render partial: 'buildings/show/light_slider', locals: { building: @building } %>");

thumb_images_length = $('.lSPager.lSGallery').children().length
add_class 					= thumb_images_length == 0 ? 'no-thumb' : 'with-thumb'

$('.gallery').lightSlider({
	gallery: true,
	item: 1,
	slideMargin: 0,
	loop: true,
	thumbItem: 6,
	galleryMargin: 1,
	addClass: add_class,
	onBeforeSlide: function(el, scene){
		parent_elem 		= el.parent().parent()
		show_count_elem = parent_elem.prev()
		current_elem    = show_count_elem.find('.current')
		current_elem.text(el.getCurrentSlideCount)
	}
});

Transparentcity.initFancybox('.sh-slider-container .lightSlider .lslide a')
