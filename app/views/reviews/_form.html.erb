<%= form_for [@reviewable, Review.new], validate: true do |f| %>
	<%= f.validate :pros, :cons, :review_title, :tenant_status %>
	<% unless @reviewable.kind_of? Unit %>
  	<div class="col-sm-12">
		  <div class="form-group">
				<label>Building Address</label>
				<%= text_field_tag 'building_street_address', building_street_address(@reviewable),  class: 'form-control' %>
			</div>
		</div>
	<%else%>
		<div class="col-sm-6">
			<div class="form-group">
				<label>Building Address</label>
				<%= text_field_tag 'building_street_address', building_street_address(@reviewable),  class: 'form-control' %>
			</div>
		</div>
		<div class="col-sm-6">
			<div class="form-group">
				<label>Unit</label>
				<%= text_field_tag 'unit', @reviewable.name,  class: 'form-control' %>
			</div>
		</div>
	<%end%>
  <div class="col-sm-12">
	  <div class="form-group">
	    <label>Rating</label>
	    	<% rating_user = current_user.present? ? current_user : nil %>
	    	<%= rating_for_user @reviewable, rating_user, @reviewable.class.name.downcase, star: 5 %>
			<span class='message hide rating-not-selected'>Please choose an answer for 'Rating'.</span>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label>Reviewer Type </label>
			<br />
			<div class="btn-group" data-toggle="buttons">
			  <label class="btn btn-default reviewer_type">
			  	<%= f.radio_button :tenant_status,'current', id: 'current_tenant', class: 'reviewer_status' %> Current Tenant
			  </label>
			  <label class="btn btn-default reviewer_type">
			  	<%= f.radio_button :tenant_status,'former', id: 'former_tenant', class: 'reviewer_status' %> Former Tenant
			  </label>
			   <label class="btn btn-default reviewer_type">
			  	<%= f.radio_button :tenant_status,'visitor', id: 'visitor', class: 'reviewer_status'   %> Visitor
			  </label> <br/>
			  <span class='message hide status-not-selected'>Please select your reviewer type.</span>
			</div>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label></label>
			<%= f.select :stay_time, options_for_select(number_of_months), { prompt: 'Number of Years in Residence' },  { class: 'form-control' } %>
			 <span class='message hide years-not-selected'>Please select your reviewer type.</span>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label>Review Title</label>
			<%= f.text_field :review_title,  class: 'form-control', validate: true %>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label>Pros</label>
			<small class="pull-right">10 words minimum</small>
			<%= f.text_area :pros,  class: 'form-control', validate: true, placeholder: "Enter 10 words minimum" %>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label>Cons</label>
			<small class="pull-right">10 words minimum</small>
			<%= f.text_area :cons,  class: 'form-control', validate: true, placeholder: "Enter 10 words minimum" %>
		</div>
	</div>
	
	<div class="col-sm-12">
	  <div class="form-group">
			<label>Other TranspaRENTcy and advice to share</label>
			<%= f.text_area :other_advice,  class: 'form-control' %>
		</div>
	</div>
	<div class="col-sm-12">
		<div class="form-group">
			<label>Would you recommended this building?</label>
			<br />
			<div class="btn-group" data-toggle="buttons">
			  <label class="btn btn-default">
			  	<%= radio_button_tag 'vote', true %> <span class='fa fa-thumbs-o-up fa-2x'></span>
			  </label>
			  <label class="btn btn-default">
			  	<%= radio_button_tag 'vote', false %> <span class='fa fa-thumbs-o-down fa-2x'></span>
			  </label>
			</div>
		</div>
  </div>
  <div class="col-sm-12">
  	<div class="pull-right">
		  <% if current_user %>
		  	<%= f.hidden_field :user_id, value: current_user.id %>
		  <%end%>
		  <br />
		  <% if params[:unit_id].present? %>
		  	<%= link_to 'Cancel', unit_path(@reviewable), class: "btn btn-default" %>
		  <%else%>
		  	<%= link_to 'Cancel', building_path(@reviewable), class: "btn btn-default" %>
		  <%end%>
		  <%= f.submit 'Submit Review', class: "btn btn-primary", id: 'submit_review' %>
	  </div>
	</div>
<% end %>
  