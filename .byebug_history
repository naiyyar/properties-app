continue
@building.reviews.to_a.uniq(&:user_id).length
@building.reviews.to_a.uniq_by{|u| u.user_id}.length
@building.reviews.uniq_by{|u| u.user_id}.length
@building.reviews.uniq_by(|u| u.user_id).length
@building.reviews.uniq_by(|u| u.user_id).count
@building.reviews[1]
@building.reviews[0]
@building.reviews.uniq(&:user_id).count
@building.reviews.uniq(&:user.id).count
@building.reviews.count
continue
review.user
review
continue
params
continue
params
continue
params
continue
params
continue
session[:form_data]['vote']
session[:form_data]['vote'] == 'true'
session[:form_data]['vote'] == true
reviewable
session[:form_data]
continue
reviewable.vote_by :voter => current_user, :vote => 'bad'
continue
session[:form_data]['vote'] == true || session[:form_data]['vote'] == 'true'
continue
session[:form_data]['vote'] == false
session[:form_data]['vote'] == true
session[:form_data]['vote'].present?
session[:form_data]['vote']
session[:form_data]
params
continue
params[:vote] == true
params[:vote] == 'true'
 params[:vote] == 'true'
params
continue
@unit
continue
@building = Building.find_by_building_street_address(params['buildings-search-txt'])
params
continue
current_user.nil?
continue
session[:form_data].present?
continue
session[:form_data]
session[:form_data].present?
params
continue
@reviewable
continue
@building.blank?
@building = Building.find_by_building_street_address(params[:building][:building_street_address])
Building.find_by_building_street_address(params[:building][:building_street_address])
params
continue
unit.save
unit
unit.building_id = self.id
unit = Unit.new(params[:building][:units_attributes].values[0])
unit.building_id = self.id
Unit.new(params[:building][:units_attributes].values[0])
params[:building][:units_attributes].values[0]
params[:building][:units_attributes].values[0][:name]
params[:building][:units_attributes].values[0]
params[:building][:units_attributes].values
params[:building][:units_attributes].keys
params[:building][:units_attributes]
params[:building][:unit_attributes]
params[:building].unit_attributes
params[:building]
params
continue
@building.blank? or params[:unit_id].blank?
@building = Building.find_by_building_street_address(params[:building][:building_street_address])
params[:unit_id].blank?
params
continue
params[:unit_id]
 @building.blank? 
@building = Building.find_by_building_street_address(params[:building][:building_street_address])
params
continue
params
continue
params
continue
params
continue
params[:building_id]
params
continue
params
continue
params[:vote] != 'true'
continue
vote.save
vote.voter_id = current_user.id
vote.vote_flag = false
vote.votable = @reviewable
vote = ActsAsVotable::Vote.new
continue
@reviewable.downvote_from current_user
params[:vote] == 'true'
params
continue
User::Vote
@reviewable.votable
@reviewable.vote
@reviewable.vote_down current_user
@reviewable.liked_by current_user
params
continue
@reviewable.vote_by :voter => current_user, :vote => 'bad'
continue
params[:vote] == true
params[:vote] == 'true'
params[:vote] == 'true' || params[:vote] == true
params
continue
params
continue
params
continue
params
continue
params[:vote]==true ? 'anna' : 'anni'
params[:vote]is? true ? 'anna' : 'anni'
params[:vote] ? 'anna' : 'anni'
params[:vote]
params
continue
params[:review][:vote]
!params[:review][:vote]
params[:review][:vote]
params[:vote]
params
continue
@building.get_likes.size
@building
@building.votes.size
@building.votes.aise
@building.
@building.votes
Vote
continue
review.user.votes.up.by_type(Building).size
review.user.votes.up.by_type(Building)
review.user.votes.up
review.user.votes
@building.downvote_from(review.user).size
@building.downvote_from review.user
@building.liked_by review.user
continue
@reviewable = Building.find_by_building_street_address(params['buildings-search-txt'])
Building.find_by_building_street_address(params['buildings-search-txt'])
 Building.where(building_street_address: params['buildings-search-txt']).first
params['buildings-search-txt']
params[:buildings-search-txt]
params
continue
params
continue
@unit = Unit.create(params[:unit])
@building = Building.create(building_params)
params[:unit]
params
continue
session[:form_data]
resource
session[:form_data]
params
continue
params
continue
params[:vote]
params
continue
params
continue
user_steps_path(name: 'anna', id: '1')
user_steps_path(name: 'anna')
user_steps_path
params
continue
params
continue
params[:contribution].present?
params[:contribution]
params
continue
@buildings.map{|b| [b.building_name, b.building_street_address]}
@buildings.map{|b| [b.building_name, building_street_address]}
continue
Building.search(params[:term])
params
continue
Building.search(params[:term])
params[:term] = 'club'
Building.search(params[:term])
params[:term] = 'th'
Building.search(params[:term])
params[:term]
params
@buildings
continue
self.where("building_name LIKE ? or building_street_address LIKE ?", "%#{term}%", "%#{term}%")
term = "nai"
term
self.where("building_name LIKE ? or building_street_address LIKE ?", "%#{term}%", "%#{term}%")
self
term
continue
Building.search('turtle')
Building.search(params[:term])
params
continue
@buildings_name+@buildings_address
@buildings_address = @buildings.map(&:building_street_address)
@buildings_name = @buildings.map(&:building_name)
@buildings.map([&:building_name, &:building_street_address])
@buildings.map(&:building_name, &:building_street_address)
@buildings.map(&:building_name)
continue
rateable_obj.can_rate?(current_user, dimension)
rateable_obj.can_rate?(current_user.id, dimension)
rateable_obj.can_rate?(current_user.id.to_s, dimension)
current_user.id
rateable_obj.can_rate?(current_user.id, dimension)
rateable_obj
dimension
disable_after_rate = options[:disable_after_rate] && true
current_user.id
current_user
options
continue
rateable_obj.can_rate?(current_user.id, dimension)
disable_after_rate = options[:disable_after_rate] || false
options
continue
rate.save
rate.stars = session[:form_data]['score']
rate.save
rate.dimension = reviewable.class.name.downcase
rate.rateable_type = reviewable.class.name
rate.rateable_id = reviewable.id
rate.rater_id = current_user.id
