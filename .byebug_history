continue
Building.near([params[:latitude].to_f, params[:longitude].to_f], 2.0, units: :km)
Building.near([params[:latitude].to_f, params[:longitude].to_f], 2.5, units: :km)
@buildings
continue
@buildings = Building.where("city = ? OR neighborhood in (?)", @search_string, boroughs) 
boroughs = view_context.bronx_sub_borough
@search_string == 'Bronx'
@search_string == 'Queens'
@search_string == 'Manhattan'
@search_string
continue
Building.near([params[:latitude].to_f, params[:longitude].to_f], 1, units: :km).length
Building.near([params[:latitude].to_f, params[:longitude].to_f], 2, units: :km).length
Building.near([params[:latitude].to_f, params[:longitude].to_f], 1, units: :km).length
Building.near([params[:latitude].to_f, params[:longitude].to_f], 1).length
Building.near([params[:latitude].to_f, params[:longitude].to_f], 5).length
continue
params[:latitude]
params
Building.near([params[:latitude].to_f, params[:longitude].to_f], 200).count
Building.near([params[:latitude].to_f, params[:longitude].to_f], 100).count
Building.near([params[:latitude].to_f, params[:longitude].to_f], 50).count
Building.near([params[:latitude], params[:longitude]], 50).count
params
Building.near([params[:latitude], params[:longitude]], 20).count
continue
params
Building.near([params[:latitude], params[:longitude]], 20).count
continue
search[7].address_components_of_type(:neighborhood)
search[7]
search.length
search[6].address_components_of_type(:neighborhood)
search[5].address_components_of_type(:neighborhood)
search[4].address_components_of_type(:neighborhood)
search[3].address_components_of_type(:neighborhood)
search[2].address_components_of_type(:neighborhood)
search[1].address_components_of_type(:neighborhood)
search[0].address_components_of_type(:neighborhood)
search[0]
continue
self.avg_rating_changed?
continue
!self.avg_rating_changed?
self.avg_rating_changed?
self.changed_attributes
continue
self.changed_attributes
continue
self.changed_attributes
self
self.avg_rating_changed?
continue
self.changed_attributes
self
continue
buildings.count
buildings
continue
@hash
@hash.to_json
raw @hash.to_json
continue
@ratings.map(&:cacheable_id)
bds.count
bds = Building.joins("LEFT JOIN rating_caches ON rating_caches.cacheable_id = buildings.id")
@ratings.map(&:cacheable_id)
@ratings.count
@ratings
continue
top_two_featured_buildings.shuffle[1..2]
top_two_featured_buildings.shuffle[0..2]
top_two_featured_buildings.shuffle[1..2]
top_two_featured_buildings.count
top_two_featured_buildings
continue
@top_two_featured_buildings = @buildings.where(id: featured_building_ids).shuffle[0..2]
@top_two_featured_buildings = @buildings.where(id: featured_building_ids).shuffle[0..1]
@top_two_featured_buildings = @buildings.where(id: featured_building_ids).shuffle[1..1]
@top_two_featured_buildings = @buildings.where(id: featured_building_ids).shuffle[1..10]
@top_two_featured_buildings = @buildings.where(id: featured_building_ids).shuffle[1..2]
featured_building_ids = featured_buildings.pluck(:building_id)
featured_buildings = FeaturedBuilding.where(building_id: @buildings.pluck(:id))
continue
featured_buildings.pluck(:building_id)
@buildings.where.not(id: featured_buildings.pluck(:building_id)).limit(20).pluck(:id)
@buildings.where.not(id: featured_buildings.pluck(:building_id))
featured_buildings.pluck(:building_id)
featured_buildings.count
continue
 @featured_buildings.shuffle[2..@featured_buildings.count]
@featured_buildings = @featured_buildings.shuffle[2..@featured_buildings.count].first(2)
@featured_buildings = @featured_buildings.shuffle[2..@featured_buildings.count].limit(2)
@featured_buildings = Building.where(id: featured_buildings.pluck(:building_id))
@featured_buildings.shuffle[2..3]
Building.where(id: featured_buildings.pluck(:building_id)).order("RAND()").first
Building.where(id: featured_buildings.pluck(:building_id)).order("RANDOM()").first
@featured_buildings.order("RANDOM()").first
@featured_buildings.order("RANDOM()").first(2)
@featured_buildings.order("RANDOM()").first
@featured_buildings.offset(offset)
offset = rand(@featured_buildings.count)
@featured_buildings.offset(offset).first(2)
@featured_buildings.offset(offset)
offset = rand(@featured_buildings.count)
@featured_buildings.first(offset)
@featured_buildings.offset(offset)
@featured_buildings.count
offset = rand(2..@featured_buildings.count)
offset
continue
building.featured?
continue
building.featured?
continue
building.featured?
continue
building.featured?
continue
dddddd
continue
building.image_uploads.last
building.image_uploadsbuilding.image_uploads.last
building
continue
building.image_uploads.count
building.image_uploads
building
continue
@gmaphash = Building.buildings_json_hash(buildings)
buildings = @similar_properties.to_a + [@building]
@similar_properties.to_a
@similar_properties
continue
buildings.as_json
buildings = @similar_properties.to_a + [@building]
buildings.count
buildings = @similar_properties.to_a + [@building]
@similar_properties.to_a + [@building]
@similar_properties.insert(@building)
@similar_properties.merge(@building)
@similar_properties.methods
@similar_properties.class
@building
@similar_properties.count
continue
@building.featured_comps.active
@building.featured_comps.pluck(:building_id)
@building.featured_comps
@building.featured_comps.count
continue
params
continue
params
continue
featured_comp_params
params
continue
@buildings
@buildings.count
params
continue
params
params[:term]
@buildings.count
@buildings
continue
request.format
params
continue
building = Building.find(session[:favourite_object_id])
session[:favourite_object_id]
session[:favourite_object_id].present? and current_user.present?
continue
request.fullpath
continue
request.fullpath
continue
request.format.html?
request.format
request.fullpath
continue
favourite_object_id
session[:favourite_object_id]
continue
request.fullpath.include?('glyphicons-halflings')
request.fullpath.include?('glyphicons, halflings')
request.fullpath.include?('glyphicons')
request.fullpath =~/\/glyphicons-halflings-regular/
request.fullpath =~/\/glyphicons-halflings-regular.woff/
request.fullpath =~/\/fonts\/glyphicons-halflings-regular.woff/
request.fullpath =~/\/fonts/glyphicons-halflings-regular.woff/
request.fullpath =~/\/fonts/
request.fullpath =~/\/woff/
request.fullpath
continue
request.fullpath
request.fullpath =~ /\/users/
request.format.json? || request.format.js?
request.format.json?
request.fullpath
continue
params
continue
view_context.heart_link(building)
current_user
continue
!user_signed_in?
user_signed_in?
session
current_user
building
view_context.heart_link(building)
context_view.heart_link(building)
view_context.heart_link(building)
continue
self.neighborhood
first_neighborhood
search.present? and first_neighborhood.blank?
continue
search[6]
search[5]
search[4]
search[3]
search[2]
search[1]
search[0]
parent_neighborhood
self.neighborhood
first_neighborhood
first_neighborhood.blank?
search.present?
search.present? and first_neighborhood.blank?
continue
∂∂∂∂∂∂∂∂
continue
city.gsub(\s\, '')
city.gsub('\s', '')
city.gsub('%s', '')
city.gsub(' ', '')
city.gsub('', '')
city = 'New York'
boroughs.titleize
formatted_city
name
continue
@distance_results.values[0]
@distance_results
continue
distance_result.values
distance_result
continue
response = HTTParty.get(dis_matrix_api)
dis_matrix_api = "https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=#{self.street_address}&destinations=#{dest}&key=#{key}"
self.street_address
