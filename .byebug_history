continue
Gcoordinate.where("neighborhood @@ :q" , q: "%#{neighborhoods}")
Gcoordinate.where("neighborhood ILIKE ?" "%#{neighborhoods}")
Gcoordinate.where("neighborhood ILIKE ?" "%#{neighborhoods}%")
neighborhoods = params['apt-search-txt'].split(',')[0]
continue
result.address_components_of_type(:neighborhood)
result.state
result.city
result.address_components_of_type(:neighborhood).first['short_name']
result.address_components_of_type(:neighborhood).first.nil?
result.address_components_of_type(:neighborhood).first
result.address_components_of_type(:neighborhood)
result = Geocoder.search(@latlng).first
 @latlng = Geocoder.coordinates(street_address)
 @latlng = Geocoder.coordinates(params[:building_street_address])
 @latlng = Geocoder.coordinates(params[:street_address])
longitude
latitude
continue
search[3]
search[4]
search.count
search = Geocoder.search([latitude, longitude])
search.count
search[4]
search[3]
search = Geocoder.search("10 Av/w 34 St, New York, NY 10001, USA")
search[2]
search[1]
search[0]
continue
search = Geocoder.search(building_street_address)
continue
search[2]
search[14]
search[13]
search[12]
search[11]
search[10]
search[9]
search[8]
search[7]
search[6]
search[5]
search[4]
search[3]
search[2]
search[1]
search[0]
search.count
continue
self.update_columns(neighborhood: neighborhoods)
neighborhoods
continue
neighborhoods
continue
predifined_neighborhoods.include? neighborhood
neighborhood
continue
neighborhood
geo_result.address_components[2]['long_name']
continue
geo_result.address_components[2]['long_name']
neighborhood
continue
 geo_result.address_components[2]['long_name']
predifined_neighborhoods
continue
predifined_neighborhoods << "Hell's Kitchen"
search[2]
geo_result
neighborhood
predifined_neighborhoods
continue
self.predifined_neighborhoods
predifined_neighborhoods
continue
search = Geocoder.search("New York", :bounds => [[latitude,longitude]])
search[1]
search[0]
search.count
search = Geocoder.search("Manhattan", :bounds => [[latitude,longitude]])
Geocoder.search("Manhattan", :bounds => [[latitude,longitude]])
Geocoder.search("Paris", :bounds => [[32.1,-95.9], [33.9,-94.3]])
search = Geocoder.search("#{building_street_address}, #{city}, #{state}")
search[2]
search[2].address_components[2]['long_name']
search[2].first.address_components[2]['long_name']
search.first.address_components[2]['long_name']
search[2]
search[3]
search[1]
search[0]
search.last
search = Geocoder.search([latitude, longitude])
search[2]
search[1]
search[0]
search.count
search = Geocoder.search(building_street_address)
search[2]
search[1]
search[0]
search.count
search = Geocoder.search([latitude, longitude])
self
continue
search[2]
search[1]
search.first
search.count
search = Geocoder.search(building_street_address)
search.first
search.count
serach.count
seach.count
search = Geocoder.search([latitude, longitude])
self
continue
 search.first.address_components[2]['long_name']
search[1]
search.last
search.first
search.count
search = Geocoder.search([latitude, longitude])
continue
latitude
search.first
search.count
search = Geocoder.search([self.latitude, self.longitude])
Geocoder.search([self.latitude, self.longitude])
self
building
Geocoder.search([building.latitude, building.longitude])
continue
coordinates
Gcoordinate.where(neighborhood: neighborhoods).map{|rec| { lat: rec.latitude, lng: rec.longitude}}
Gcoordinate.where(neighborhood: neighborhoods)
@buildings = Building.where(neighborhood: neighborhoods)
neighborhoods = params['apt-search-txt'].split(',')[0]
search.first.types[0] == 'neighborhood'
continue
params['apt-search-txt'].split(',')[0]
params['apt-search-txt'].split(',')
params['apt-search-txt'].split(' , ')
params['apt-search-txt'].split(' - ')
params
search.first.address_components[0]['long_name']
search.first.address_components[0]
search.first.address_components
search = Geocoder.search(params['apt-search-txt'])
params
continue
search.last.address_components[2]['long_name']
search.first.address_components[2]['long_name']
search = Geocoder.search(@building.building_street_address)
continue
search.first.address_components[2]['long_name']
search.last.address_components[2]['long_name']
search = Geocoder.search(@building.building_street_address)
continue
search.last.address_components[2]['long_name']
search.first.address_components[2]['long_name']
search.last
search.first
search = Geocoder.search(@building.building_street_address)
search = Geocoder.search(building.building_street_address)
continue
self
self.save
self.neighborhood = neighborhood
self
self.save
neighborhood = 'East Midtown'
east_side.present?
east_side = self.building_street_address.scan(Regexp.union(/East/,/east/))
east_side = self.building_street_address.scan(Regexp.union(/E/,/East/,/east/))
neighborhood == 'Midtown'
neighborhood = search.first.address_components[2]['long_name']
search.present?
search = Geocoder.search(self.building_street_address)
self
exit
continue
building_street_address
search.first.address_components
neighborhood = search.first.address_components[2]['long_name']
search = Geocoder.search(self.building_street_address)
self
continue
Building.geocode(params['apt-search-txt'])
search.first.address_components[2]['long_name']
search.first.address_components[2][:long_name]
search.first.address_components[2].long_name
search.first.address_components[2]
search.first.address_components
search = Geocoder.search(params['apt-search-txt'])
search.address_components
searc.address_components
search.first
search = Geocoder.search(params['apt-search-txt'])
Building.geocode(params['apt-search-txt'])
continue
Building.geocode(params['apt-search-txt'])
continue
Building.geocode(params['apt-search-txt'])
continue
params
Building.geocode(params['apt-search-txt'])
MultiGeocoder.geocode(params['apt-search-txt'])
Geocoder.geocode(params['apt-search-txt'])
continue
Geocoder.geocode(params['apt-search-txt'])
Building.find_closest(:origin => params['apt-search-txt'])
Building.by_distance(:origin => params['apt-search-txt'])
Building.within(5, :units => :kms, :origin => params['apt-search-txt'])
continue
Location.within(5, :units => :kms, :origin => params['apt-search-txt'])
continue
request.location.city
request.location
request
location
search = Geocoder.search(params['apt-search-txt'])
continue
search = Geocoder.search(params['apt-search-txt'])
continue
search = Geocoder.search(params['apt-search-txt'])
params
continue
search = Geocoder.search(params['apt-search-txt'])
params
continue
search = Geocoder.search(@building.zipcode)
search.last
search.first
search = Geocoder.search(@building.building_street_address)
@building = Building.find(params[:id])
params
@building
continue
search = Geocoder.search(params['10017'])
search = Geocoder.search(params['building_street_address'])
search = Geocoder.search(params[:building_street_address])
Geocoder.search(params[:building_street_address])
params
continue
search = Geocoder.search(params['apt-search-txt'])
params
continue
params
continue
params
continue
Building.where(building_street_address: params[:term]).count
