continue
Building.where(building_street_address: params[:term]).count
Building.where(building_street_address: params[:term])
params
continue
val.gsub(/\s+/,"")
val.gsub('/\s+/',"")
val.gsub('/s+/',"")
val.gsub(/s+/,"")
val
continue
"1003".gsub(/\s+/, "")
" 1003".gsub(/\s+/, "")
" 1003".tr(' ')
" 1003"
Building.where('zipcode = ?','10003')
Building.where('zipcode = ?',zipcode)
@buildings = Building.where('zipcode = ?',zipcode)
zipcode = search_term[0]
@buildings = Building.where('zipcode = ?',zipcode)
search_term = params['apt-search-txt'].split(' - ')
search.first.types[0] == 'postal_code'
@buildings.to_a.count
@buildings.count
@building.count
@buildings = Building.near(params['apt-search-txt'], Building::DISTANCE)
coordinates = Geocoder.coordinates('10003')
coordinates = Geocoder.coordinates(params['apt-search-txt'])
search = Geocoder.search(params['apt-search-txt'])
params
continue
building
json
continue
building
index
continue
@buildings.count
@buildings
continue
near(search.coordinates, 2).to_a.uniq(&:zipcode).map(&:zipcode)
near(search.coordinates, 2).to_a.uniq(&:zipcode).count
near(search.coordinates, 2).to_a.uniq(&:zipcode)
near(search.coordinates, 1).to_a.uniq(&:zipcode)
near(search.coordinates, 1).to_a.uniq(&:zipcode).count
near(search.coordinates,50).to_a.uniq(&:zipcode).count
near(search.coordinates, Building::DISTANCE).to_a.map(&:zipcode)
near(search.coordinates, Building::DISTANCE).to_a.uni
near(search.coordinates, Building::DISTANCE).count
near(search.coordinates, Building::DISTANCE).to_a.uniq(&:zipcode).count
params
continue
search.coordinates
search = Geocoder.search(params[:term]).first
params
continue
search.coordinates
search = Geocoder.search(params[:term]).first
params
continue
Building.where(zipcode: '10003')
params
search.coordinates
Building.neighborhood_search_by_zipcode(search, params).map{|z| z.zipcode}
Building.neighborhood_search_by_zipcode(search, params).count
search.types.include? 'postal_code'
Building.neighborhood_search_by_zipcode(search, params)
Building.neighborhood_search_by_street_address(search, params)
Building.text_search_by_building_name(params[:term])
Building.text_search_by_city(params[:term]).to_a.uniq(&:city)
params
continue
number_to_add
ave_address
continue
number.to_i/10
number.split('')
number.split
number
ave.join(' ')
ave.join('')
ave.join()
ave = address.split(' ') - [number]
address.split(' ') - [number]
number
address
number = address.split(' ')[0]
address.split(' ')
address.split(' ').includes? address
address.split(' ').includes address
address.includes(address.split(' '))
address.split(' ')
18+8
18+35
37/2
25/2
25%2
25/2
address.split(' ')[0].to_i
address.split(' ')[0]
address.split(' ')
address.split('')
address
continue
Geocoder.search(@building.building_street_address)
Building.near(@building.building_street_address, 50)
@building.near(@building.building_street_address, 50)
@building
continue
Building.text_search(params[:term])
Building.text_search(params[:term]).count
Building.text_search(params[:term])
Building.text_search_by_city(params[:term]).count
continue
@unit.name.split('')[0] == '#'
@unit.name.split('')
@unit.name.split('#')
'#'.include(@unit.name.split(''))
@unit.name.split('').include('#')
@unit.name.split('').includes('#')
@unit.name.split('').inlcudes('#')
@unit.name.split('')
@unit.split('')
@unit.split''()
@unit.includes('#')
@unit.include('#')
@unit.name
continue
 Geocoder.coordinates('Manhattan')
coordinates
params
@lng
@lat
continue
Gmaps4rails.build_markers(@buildings)
@buildings.count
@buildings
continue
 search = Geocoder.search(params[:term])
params
continue
search.first.types
search = Geocoder.search(params['apt-search-txt'])
params
continue
params['apt-search-txt'].split(' - ')
params['apt-search-txt'].split('- ')
params['apt-search-txt'].split('- ')[0]
params['apt-search-txt'].split('-')[0]
params['apt-search-txt'].split('-')
params['apt-search-txt'].split(-)
params['apt-search-txt']
search.first.types[0] == 'postal_code'
search.present?
search = Geocoder.search(params['apt-search-txt'])
params
continue
arr << Gcoordinate.where(zipcode: params['apt-search-txt']).map{|rec| {lat: rec.latitude, lng: rec.longitude}}
arr = []
Gcoordinate.where(zipcode: params['apt-search-txt']).map{|rec| {lat: rec.latitude, lng: rec.longitude}}
Gcoordinate.where(zipcode: params['apt-search-txt']).map{|rec| [rec.latitude, rec.longitude]}
Gcoordinate.where(zipcode: params['apt-search-txt'])
Gcoordinate.where(zipcode: params['apt-search-txt']).count
continue
search.first.types[0] == 'postal_code'
search.first.types
search.types
search = Geocoder.search(params['apt-search-txt'])
params
 @buildings
continue
coord[:lng]
coord[:lat]
coord
continue
hash
hash[:lng] = @cordinates[1]
hash[:lat] = @cordinates[0]
hass[:lat] = @cordinates[0]
hash = {}
@cordinates
continue
Geocoder.coordinates("10022")
params
continue
params
continue
params
continue
Building.where('building_street_address = ?', params[:term])
params
building = Building.text_search(params[:term])
continue
Building.text_search(params[:term])[3]
Building.text_search(params[:term])[2]
Building.text_search(params[:term])[1]
Building.text_search(params[:term]).count
Building.text_search(params[:term])
params
continue
Building.text_search(params[:term])
params
continue
Building.text_search(params[:term])
params
continue
Building.text_search(params[:term])
params
continue
building.count
buulding.count
building = Building.text_search(params[:term])
params
continue
params[:term].present?
params
continue
building = Building.text_search(params[:term])
params[:term].present?
params
continue
Building.text_search(params[:term])
params
search.address_components
search.formatted_address
search = Geocoder.search(params['apt-search-txt']).first
Geocoder.search(params['apt-search-txt']).first
Geocoder.search(params['apt-search-txt'])
Building.text_search(params['apt-search-txt'])
params
continue
 @polylines
 @polylines[0] << {}
 @polylines[0][0]
 @polylines[0]
 @polylines
continue
 @polylines
continue
@polylines
continue
buildings.to_a.uniq(&:zipcode).length
buildings.to_a.uniq_by{|b| b.zipcode}.length
buildings.to_a.uniq.length
buildings.to_a.uniq
buildings.to_a
buildings.uniq_by{|b| b.zipcode}.length
buildings.uniq(&:zipcode).length
buildings.count
buildings.class
buildings.length
buildings = near(search.coordinates, Building::DISTANCE)
near(search.coordinates, Building::DISTANCE)
continue
@autosearch_buildings.length
@result_type
